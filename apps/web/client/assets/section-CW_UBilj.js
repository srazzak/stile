import{w as f,h as p,t as i}from"./view-context-BPS-IHkj.js";import{r as x,n as e}from"./chunk-GNGMS2XR-DdblaObd.js";import{T,E as g,a as j,b as h}from"./todo-timeline-CT9TJn7A.js";import{u as c}from"./dexie-react-hooks-DKd2tn_9.js";import"./CalendarIcon-BejILRof.js";function P({}){return[{title:"Verdigris"},{name:"description",content:"A simple todo app"}]}const R=f(function({params:d}){const o=d.sectionId,{view:s}=p(),t=c(()=>i.getSection(o),[o]),n=c(()=>s==="list"?i.getPendingTodos(o):i.getAllTodos(o),[s,o],[]),r=x.useRef(null);function m(u){var a;if(!t)return;const l=u.get("sectionTitle");l!==(t==null?void 0:t.title)&&(i.updateSection(t==null?void 0:t.id,{title:l}),(a=r.current)==null||a.blur())}return e.jsxs("div",{className:"h-full w-full",children:[e.jsx("form",{action:m,children:e.jsx("input",{ref:r,name:"sectionTitle",className:"mb-4 font-serif text-xl font-medium",defaultValue:t==null?void 0:t.title})}),n&&t&&s==="list"?e.jsxs(e.Fragment,{children:[e.jsx(T,{todos:n}),e.jsx(g,{sectionId:t.id})]}):e.jsx(j,{todos:n}),t&&e.jsx(h,{section:t})]})});export{R as default,P as meta};
